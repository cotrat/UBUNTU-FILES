The first bug that I fixed was the taxis not dropping passengers off when they stop at the taxi rank. This fix was achieved by finding where the taxis stop (inside of taxi rank). In the the tick method of the TaxiRank class there is functionaility to make the taxis stop at the taxi rank. Building on this I added code to create a new ‘Pedestrian’ which appears on the road just above where the taxis stop. This was done by having a new ‘Pedestrian’ constructed whenever a taxi stopped. Not just one pedestrian is created however, the amount of ‘Pedestrians’ created is equal to the value of the 'Occupants' variable, a variable which I have added to the Vehicle class. In addition to this variable an accessor (Occupancy and setOccupancy) were created, the mutator makes use of the random number generator found in the Utils class rather than creating my own. To summarize, when a taxi stops at the rank it checks the 'occupants' variable of that taxi and iterates (using a for loop) up to that value spawning a new ‘Pedestrian’ for each iteration.

Whilst the ‘Pedestrians’ that get out of the taxi do not walk up to the lane then change direction (they simply spawn at the bottom of the lane then begin walking) they do spawn apart on the horizontal plane. This means that they don’t all just stack on top of one another. This was achieved by increasing the x variable in the Pedestrian constructor when creating the new pedestrians. For every person that gets out of the taxi their x value (the position in which they spawn on the horizontal plane) is increased by itr*15 (where itr corresponds to the n’th ‘Pedestrian’ in the taxi). For example the 4th person out of the taxi would spawn 4*15 (60) units to the right of the first person to get out of the taxi.

I was able to visually confirm that this fix works but watching the passengers appear in the lane as the taxi stops and making sure it corresponds with the occupancy number (which was printed into the eclipse terminal). By printing the Occupancy value and then checking how much the Array containing all the pedestrians grew by (which is built into the ‘passengerLane’ class) I can confirm that n (where n is the occupancy value) ‘Pedestrians’ exited the taxi. It is hard to say this fix is complete because more could be added (such as making the passengers exit the vehicle then walk up the lane then turn either left or right) but the bug as stated “taxis not dropping passengers off when they stop at the taxi rank” has been fixed and any other changes would simply be just making the simulation more visually appealing.

